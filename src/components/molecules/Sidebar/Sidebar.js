import styled from 'styled-components';

import { ReactComponent as Logo } from '../../../assets/images/bread-bank-logo.svg';
import { useAuth } from '../../../hooks/useAuth';
import SidebarItem from '../../atoms/SidebarItem/SidebarItem';

import {
  SidebarContainer,
  Header,
  LogoWrapper,
  IconsContainer,
  IconWrapper,
  Browse,
  Overlay,
} from './Sidebar.styles';

const unauthenticatedItems = [
  {
    text: 'Starting Screen',
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <path d="M20 7.093v-5.093h-3v2.093l3 3zm4 5.907l-12-12-12 12h3v10h7v-5h4v5h7v-10h3zm-5 8h-3v-5h-8v5h-3v-10.26l7-6.912 7 6.99v10.182z" />
      </svg>
    ),
  },
  {
    text: 'See Locations',
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <path d="M12 2c3.196 0 6 2.618 6 5.602 0 3.093-2.493 7.132-6 12.661-3.507-5.529-6-9.568-6-12.661 0-2.984 2.804-5.602 6-5.602m0-2c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z" />
      </svg>
    ),
  },
  {
    text: 'Quick Loan',
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <path d="M12.164 7.165c-1.15.191-1.702 1.233-1.231 2.328.498 1.155 1.921 1.895 3.094 1.603 1.039-.257 1.519-1.252 1.069-2.295-.471-1.095-1.784-1.827-2.932-1.636zm1.484 2.998l.104.229-.219.045-.097-.219c-.226.041-.482.035-.719-.027l-.065-.387c.195.03.438.058.623.02l.125-.041c.221-.109.152-.387-.176-.453-.245-.054-.893-.014-1.135-.552-.136-.304-.035-.621.356-.766l-.108-.239.217-.045.104.229c.159-.026.345-.036.563-.017l.087.383c-.17-.021-.353-.041-.512-.008l-.06.016c-.309.082-.21.375.064.446.453.105.994.139 1.208.612.173.385-.028.648-.36.774zm10.312 1.057l-3.766-8.22c-6.178 4.004-13.007-.318-17.951 4.454l3.765 8.22c5.298-4.492 12.519-.238 17.952-4.454zm-2.803-1.852c-.375.521-.653 1.117-.819 1.741-3.593 1.094-7.891-.201-12.018 1.241-.667-.354-1.503-.576-2.189-.556l-1.135-2.487c.432-.525.772-1.325.918-2.094 3.399-1.226 7.652.155 12.198-1.401.521.346 1.13.597 1.73.721l1.315 2.835zm2.843 5.642c-6.857 3.941-12.399-1.424-19.5 5.99l-4.5-9.97 1.402-1.463 3.807 8.406-.002.007c7.445-5.595 11.195-1.176 18.109-4.563.294.648.565 1.332.684 1.593z" />
      </svg>
    ),
  },
  {
    text: 'Exchange Rates',
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <path d="M24 3v10h-4.809l-2.134-2h4.943v-6h-12v-.384l-3.17 2.972 2.27 2.412h-2.747l-2.353-2.5 8-7.5v3h12zm-6.712 6.42c-.581 0-.936-.41-1.073-.92h1.119l.055-.334h-1.232l-.002-.332h1.291l.054-.334h-1.292c.131-.518.476-.938 1.025-.938.188 0 .398.033.64.104l.127-.527c-.309-.092-.603-.139-.873-.139-.994 0-1.591.691-1.766 1.5h-.361l-.055.334h.367l-.002.332h-.422l-.054.334h.523c.173.809.777 1.5 1.848 1.5.25 0 .501-.047.746-.137l-.147-.539c-.175.064-.348.096-.516.096zm2.712 7.08l-8-7.5v3h-12v9h12v3l8-7.5zm-13.332 2.062v.438h-.418v-.416c-.431-.008-.878-.11-1.25-.303l.19-.686c.398.155.928.319 1.343.226.479-.108.577-.601.048-.838-.389-.181-1.573-.336-1.573-1.352 0-.567.432-1.075 1.242-1.188v-.443h.418v.424c.301.008.64.061 1.017.176l-.15.687c-.319-.112-.674-.215-1.018-.193-.62.036-.676.573-.242.798.713.335 1.644.584 1.644 1.478 0 .714-.562 1.095-1.251 1.192z" />
      </svg>
    ),
  },
  {
    text: 'Currency Converter',
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <path d="M20 2v20h-16v-20h16zm2-2h-20v24h20v-24zm-13 21h-4v-3h4v3zm0-4h-4v-3h4v3zm0-4h-4v-3h4v3zm5 8h-4v-3h4v3zm0-4h-4v-3h4v3zm0-4h-4v-3h4v3zm5 8h-4v-7h4v7zm0-8h-4v-3h4v3zm0-10h-14v5h14v-5z" />
      </svg>
    ),
  },
  {
    text: 'Contact',
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <path d="M14.89 23.654c-7.367 3.367-18.802-18.86-11.601-22.615l2.107-1.039 3.492 6.817-2.082 1.026c-2.189 1.174 2.37 10.08 4.609 8.994.091-.041 2.057-1.007 2.064-1.011l3.521 6.795c-.008.004-1.989.978-2.11 1.033zm-1.538-13.409l2.917.87c.223-.747.16-1.579-.24-2.317-.399-.739-1.062-1.247-1.808-1.469l-.869 2.916zm1.804-6.058c1.551.462 2.926 1.516 3.756 3.051.831 1.536.96 3.263.498 4.813l-1.795-.535c.325-1.091.233-2.306-.352-3.387-.583-1.081-1.551-1.822-2.643-2.146l.536-1.796zm.95-3.187c2.365.705 4.463 2.312 5.729 4.656 1.269 2.343 1.466 4.978.761 7.344l-1.84-.548c.564-1.895.406-4.006-.608-5.882-1.016-1.877-2.696-3.165-4.591-3.729l.549-1.841z" />
      </svg>
    ),
  },
  {
    text: 'Make An Appointment',
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <path d="M21 14.655l-5.799.908 3.393 6.917-3.111 1.52-3.413-6.982-4.07 3.651v-15.857l13 9.843zm-15-6.212c-1.19-.693-2-1.969-2-3.443 0-2.206 1.794-4 4-4 2.235 0 4.164 1.875 3.969 4.309l.928.703c.637-3.087-1.715-6.012-4.897-6.012-2.761 0-5 2.239-5 5 0 2.049 1.236 3.806 3 4.578v-1.135z" />
      </svg>
    ),
  },
];

const UsernameContainer = styled.div`
  padding: 2px 1rem;
  color: white;
  background-color: black;
  margin-top: 0.5rem;
  margin-bottom: 0.25rem;

  & p {
    margin: 0;
  }
`;

function Sidebar({ handleCloseSidebar }) {
  const { user, logOut } = useAuth();

  const authenticatedContent = (
    <>
      <UsernameContainer>
        <p>JOHN DOE</p>
        <p>Balance: $30.213,31</p>
      </UsernameContainer>
      <SidebarItem
        key={'logout'}
        text={'Log Out'}
        icon={
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="red"
          >
            <path d="M10 9.408l2.963 2.592-2.963 2.592v-1.592h-8v-2h8v-1.592zm-2-4.408v4h-8v6h8v4l8-7-8-7zm6-3c-1.787 0-3.46.474-4.911 1.295l.228.2 1.396 1.221c1.004-.456 2.114-.716 3.287-.716 4.411 0 8 3.589 8 8s-3.589 8-8 8c-1.173 0-2.283-.26-3.288-.715l-1.396 1.221-.228.2c1.452.82 3.125 1.294 4.912 1.294 5.522 0 10-4.477 10-10s-4.478-10-10-10z" />
          </svg>
        }
        onClick={logOut}
      />
      <Browse>Browse</Browse>
      <ul style={{ margin: '0', padding: '0' }}>
        {unauthenticatedItems.map(({ text, icon }) => (
          <SidebarItem key={text} text={text} icon={icon} />
        ))}
      </ul>
    </>
  );

  const unauthenticatedContent = (
    <>
      <Browse>Browse</Browse>
      <ul style={{ margin: '0', padding: '0' }}>
        {unauthenticatedItems.map(({ text, icon }) => (
          <SidebarItem key={text} text={text} icon={icon} />
        ))}
      </ul>
    </>
  );

  return (
    <>
      <SidebarContainer>
        <Header>
          <LogoWrapper>
            <Logo />
          </LogoWrapper>
          <IconsContainer>
            <IconWrapper>
              <svg
                width="24"
                height="24"
                xmlns="http://www.w3.org/2000/svg"
                fillRule="evenodd"
                clipRule="evenodd"
              >
                <path d="M24 23h-24v-13.275l2-1.455v-7.27h20v7.272l2 1.453v13.275zm-20-10.472v-9.528h16v9.527l-8 5.473-8-5.472zm14-.528h-12v-1h12v1zm0-3v1h-12v-1h12zm-7-1h-5v-3h5v3zm7 0h-6v-1h6v1zm0-2h-6v-1h6v1z" />
              </svg>
            </IconWrapper>
            <IconWrapper>
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z" />
              </svg>
            </IconWrapper>
          </IconsContainer>
        </Header>
        {user ? authenticatedContent : unauthenticatedContent}
      </SidebarContainer>
      <Overlay onClick={handleCloseSidebar}></Overlay>
    </>
  );
}

export default Sidebar;
